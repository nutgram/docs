import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Hearing updates

## Overview

After you have configured your first testcase, to test your handlers you have to define which update it will process.
To do that, the framework gives you some methods to automatically generate incoming updates.

### Example
We assume that the `$this->bot` is loaded as mentioned on the [Introduction](testing/introduction.md) page.

<Tabs>
<TabItem value="test" label="Test" default>

```php
$this->bot
     ->hearText('/foo')
     ->reply();
```

</TabItem>
<TabItem value="handler" label="Triggered Handler">

```php
$bot->onCommand('foo', function (Nutgram $bot) {
    // this handler will be called
});
```

</TabItem>
</Tabs>

## Available Methods

<div class="container">
    <div class="row">
        <div class="col col--6">
            <div><code><a href="#hearupdate">hearUpdate()</a></code></div>
            <div><code><a href="#hearupdatetype">hearUpdateType()</a></code></div>
            <div><code><a href="#hearmessage">hearMessage()</a></code></div>
        </div>
        <div class="col col--6">
            <div><code><a href="#heartext">hearText()</a></code></div>
            <div><code><a href="#hearcallbackquerydata">hearCallbackQueryData()</a></code></div>
        </div>
    </div>
</div>

### hearUpdate
The `hearUpdate` hears an outcoming `Update` object.
```php
->hearUpdate(new Update());
```

### hearUpdateType
The `hearUpdateType` hears an outcoming `Update` subtype array.
The `partialAttributes` and `fillNullableFields` parameters are optionals.
```php
->hearUpdateType(UpdateTypes::MESSAGE, partialAttributes: ['text' => '/foo'], fillNullableFields: false);
```

### hearMessage
The `hearMessage` hears an outcoming `Message` array.
```php
->hearMessage(['text' => 'foo']);
```

### hearText
The `hearText` hears an outcoming `Message` text.
```php
->hearText('foo');
```

### hearCallbackQueryData
The `hearCallbackQueryData` hears an outcoming `CallbackQuery` data.
```php
->hearCallbackQueryData('baz');
```