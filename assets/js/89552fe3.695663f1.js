"use strict";(self.webpackChunknutgram_docs=self.webpackChunknutgram_docs||[]).push([[4354],{86116:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return o},default:function(){return s},frontMatter:function(){return i},metadata:function(){return r},toc:function(){return u}});var a=n(83117),l=(n(67294),n(3905));n(56022);const i={sidebar_position:4},o="Installation",r={unversionedId:"configuration/installation",id:"configuration/installation",title:"Installation",description:"Composer",source:"@site/docs/configuration/installation.md",sourceDirName:"configuration",slug:"/configuration/installation",permalink:"/docs/configuration/installation",draft:!1,editUrl:"https://github.com/nutgram/docs/tree/master/docs/configuration/installation.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"docs",previous:{title:"\ud83c\udfc1 Getting Started",permalink:"/docs/category/-getting-started"},next:{title:"Cache",permalink:"/docs/configuration/cache"}},p={},u=[{value:"Composer",id:"composer",level:2},{value:"Configuration",id:"configuration",level:2},{value:"<code>apiUrl</code>",id:"apiurl",level:3},{value:"<code>enableHttp2</code>",id:"enablehttp2",level:3},{value:"<code>botName</code>",id:"botname",level:3},{value:"<code>isLocal</code>",id:"islocal",level:3},{value:"<code>localPathTransformer</code>",id:"localpathtransformer",level:3},{value:"<code>testEnv</code>",id:"testenv",level:3},{value:"<code>clientTimeout</code>",id:"clienttimeout",level:3},{value:"<code>cache</code>",id:"cache",level:3},{value:"<code>conversationTtl</code>",id:"conversationttl",level:3},{value:"<code>clientOptions</code>",id:"clientoptions",level:3},{value:"<code>pollingTimeout</code>",id:"pollingtimeout",level:3},{value:"<code>pollingLimit</code>",id:"pollinglimit",level:3},{value:"<code>pollingAllowedUpdates</code>",id:"pollingallowedupdates",level:3},{value:"<code>logger</code>",id:"logger",level:3},{value:"<code>container</code>",id:"container",level:3}],m={toc:u};function s(e){let{components:t,...n}=e;return(0,l.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"installation"},"Installation"),(0,l.kt)("h2",{id:"composer"},"Composer"),(0,l.kt)("p",null,"You can install the package as usual via Composer:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"composer require nutgram/nutgram\n")),(0,l.kt)("admonition",{type:"tip"},(0,l.kt)("p",{parentName:"admonition"},"If you are using Laravel or Symfony frameworks, be sure to read their dedicated pages for a better\ndevelopment experience."),(0,l.kt)("ul",{parentName:"admonition"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/configuration/laravel"},"Laravel")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/configuration/symfony"},"Symfony")))),(0,l.kt)("h2",{id:"configuration"},"Configuration"),(0,l.kt)("p",null,"The framework can work out-of-the-box without much configuration, the only mandatory parameter is (obviously) the\nTelegram API token:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-php"},"use SergiX44\\Nutgram\\Nutgram;\n\n$bot = new Nutgram('you telegram token here');\n")),(0,l.kt)("p",null,"In addition, it's possible to specify a list of options as second argument, like that:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-php"},"use SergiX44\\Nutgram\\Nutgram;\nuse SergiX44\\Nutgram\\Configuration;\n\n$config = new Configuration(\n    clientTimeout: 10, // default in seconds, when contacting the Telegram API\n);\n\n$bot = new Nutgram('you telegram token here', $config);\n")),(0,l.kt)("p",null,"Here a list of all the options you can specify:"),(0,l.kt)("h3",{id:"apiurl"},(0,l.kt)("inlineCode",{parentName:"h3"},"apiUrl")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"type:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"string")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"default:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"'https://api.telegram.org'")),(0,l.kt)("li",{parentName:"ul"},"Useful if you need to change to a local or different API server.",(0,l.kt)("br",null),(0,l.kt)("strong",{parentName:"li"},"WARNING:")," If the server does not support HTTP/2, remember to disable ",(0,l.kt)("inlineCode",{parentName:"li"},"enableHttp2")," in the configuration.")),(0,l.kt)("h3",{id:"enablehttp2"},(0,l.kt)("inlineCode",{parentName:"h3"},"enableHttp2")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"type:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"bool")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"default:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"true")),(0,l.kt)("li",{parentName:"ul"},"Enable HTTP/2 support")),(0,l.kt)("h3",{id:"botname"},(0,l.kt)("inlineCode",{parentName:"h3"},"botName")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"type:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"string")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"default:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"null")),(0,l.kt)("li",{parentName:"ul"},"Useful when the bot is a group bot\n(with ",(0,l.kt)("a",{parentName:"li",href:"https://core.telegram.org/bots/features#privacy-mode"},"Group Privacy")," ",(0,l.kt)("strong",{parentName:"li"},"disabled"),")\nand you need to specify the bot name.")),(0,l.kt)("h3",{id:"islocal"},(0,l.kt)("inlineCode",{parentName:"h3"},"isLocal")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"type:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"bool")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"default:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"false")),(0,l.kt)("li",{parentName:"ul"},"Enable the local mode when used along a self-hosted Telegram Bot API server.",(0,l.kt)("br",null),(0,l.kt)("em",{parentName:"li"},"Nutgram will copy the file from your Telegram Bot API server instead downloading it."),(0,l.kt)("br",null),(0,l.kt)("strong",{parentName:"li"},"WARNING:")," If your local server does not support HTTP/2, remember to disable ",(0,l.kt)("inlineCode",{parentName:"li"},"enableHttp2")," in the configuration.")),(0,l.kt)("h3",{id:"localpathtransformer"},(0,l.kt)("inlineCode",{parentName:"h3"},"localPathTransformer")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"type:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"callable(string $path): string")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"default:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"null")),(0,l.kt)("li",{parentName:"ul"},"Useful if you need to remap a relative file path when used along ",(0,l.kt)("inlineCode",{parentName:"li"},"is_local")," config.")),(0,l.kt)("h3",{id:"testenv"},(0,l.kt)("inlineCode",{parentName:"h3"},"testEnv")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"type:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"bool")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"default:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"false")),(0,l.kt)("li",{parentName:"ul"},"Enable test environments useful when working with ",(0,l.kt)("a",{parentName:"li",href:"https://core.telegram.org/bots/webapps#testing-web-apps"},"Web Apps"),".")),(0,l.kt)("h3",{id:"clienttimeout"},(0,l.kt)("inlineCode",{parentName:"h3"},"clientTimeout")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"type:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"int")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"default:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"5")),(0,l.kt)("li",{parentName:"ul"},"In seconds, define the timeout when sending requests to the Telegram API.")),(0,l.kt)("h3",{id:"cache"},(0,l.kt)("inlineCode",{parentName:"h3"},"cache")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"type:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"string")," (FQCN) or class instance"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"default:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"SergiX44\\Nutgram\\Cache\\Adapters\\ArrayCache")),(0,l.kt)("li",{parentName:"ul"},"The object used to store conversation and data, must implements the PSR-16 ",(0,l.kt)("inlineCode",{parentName:"li"},"CacheInterface"),".")),(0,l.kt)("h3",{id:"conversationttl"},(0,l.kt)("inlineCode",{parentName:"h3"},"conversationTtl")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"type:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"DateInterval|int|null")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"default:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"43200")," (12 hours)"),(0,l.kt)("li",{parentName:"ul"},"The time-to-live for a conversation in seconds or a ",(0,l.kt)("inlineCode",{parentName:"li"},"DateInterval")," object.",(0,l.kt)("br",null),"\nSet to ",(0,l.kt)("inlineCode",{parentName:"li"},"null")," to disable the TTL.")),(0,l.kt)("h3",{id:"clientoptions"},(0,l.kt)("inlineCode",{parentName:"h3"},"clientOptions")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"type:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"array")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"default:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"[]")),(0,l.kt)("li",{parentName:"ul"},"An array of options for the underlying ",(0,l.kt)("a",{parentName:"li",href:"https://docs.guzzlephp.org/en/stable/quickstart.html"},"Guzzle HTTP client"),".",(0,l.kt)("br",null),"\nCheckout the Guzzle documentation for further informations.")),(0,l.kt)("h3",{id:"pollingtimeout"},(0,l.kt)("inlineCode",{parentName:"h3"},"pollingTimeout")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"type:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"int")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"default:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"10")),(0,l.kt)("li",{parentName:"ul"},"In seconds, define the timeout when polling updates from the Telegram API.")),(0,l.kt)("h3",{id:"pollinglimit"},(0,l.kt)("inlineCode",{parentName:"h3"},"pollingLimit")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"type:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"int")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"default:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"100")),(0,l.kt)("li",{parentName:"ul"},"Define the maximum number of updates to be retrieved from the Telegram API.")),(0,l.kt)("h3",{id:"pollingallowedupdates"},(0,l.kt)("inlineCode",{parentName:"h3"},"pollingAllowedUpdates")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"type:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"array")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"default:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"['message', 'edited_message', 'channel_post', 'edited_channel_post', 'business_connection', 'business_message', 'edited_business_message', 'deleted_business_messages', 'message_reaction', 'message_reaction_count', 'inline_query', 'chosen_inline_result', 'callback_query', 'shipping_query', 'pre_checkout_query', 'purchased_paid_media', 'poll', 'poll_answer', 'my_chat_member', 'chat_member', 'chat_join_request', 'chat_boost', 'removed_chat_boost'];")),(0,l.kt)("li",{parentName:"ul"},"Define the allowed updates to be retrieved from the Telegram API.")),(0,l.kt)("h3",{id:"logger"},(0,l.kt)("inlineCode",{parentName:"h3"},"logger")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"type:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"Psr\\Log\\LoggerInterface")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"default:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"Psr\\Log\\NullLogger")),(0,l.kt)("li",{parentName:"ul"},"The logger used to log debug http requests.",(0,l.kt)("br",null),(0,l.kt)("a",{parentName:"li",href:"logging"},"Check out the Logging page for other info."))),(0,l.kt)("h3",{id:"container"},(0,l.kt)("inlineCode",{parentName:"h3"},"container")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"type:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"Psr\\Container\\ContainerInterface")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"default:")," ",(0,l.kt)("inlineCode",{parentName:"li"},"null")),(0,l.kt)("li",{parentName:"ul"},"Delegate container to resolve dependencies.")))}s.isMDXComponent=!0}}]);